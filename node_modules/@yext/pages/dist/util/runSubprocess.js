import { spawn } from "child_process";
import process from "process";
import checkInstalled from "./checkInstalled.js";
function runSubProcess(command, args) {
  checkInstalled(command);
  process.stdout.write("> " + command + " " + args.join(" ") + "\n");
  const childProcess = spawn(command, args, {
    stdio: ["inherit", "pipe", "pipe"],
    shell: true
  });
  return new Promise((resolveFunc) => {
    childProcess.stdout.on("data", (x) => {
      process.stdout.write(x.toString());
    });
    childProcess.stderr.on("data", (x) => {
      process.stderr.write(x.toString());
    });
    childProcess.on("exit", (code) => {
      resolveFunc(code);
    });
  });
}
var runSubprocess_default = runSubProcess;
export {
  runSubprocess_default as default
};
