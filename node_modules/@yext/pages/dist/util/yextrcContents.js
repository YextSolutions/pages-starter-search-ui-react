import fs from "fs";
import YAML from "yaml";
const validUniverses = ["sandbox", "production", "sbx", "prod", "qa", "dev"];
const parseYextrcContents = (scope = void 0) => {
  let accountId;
  let universe;
  try {
    const yextrcContents = fs.readFileSync(".yextrc", "utf8");
    const parsedContents = YAML.parse(yextrcContents);
    if (scope && parsedContents[scope]) {
      const scopedContents = parsedContents[scope];
      accountId = !isNaN(Number(scopedContents.accountId)) ? scopedContents.accountId : void 0;
      universe = validUniverses.includes(scopedContents.universe) ? scopedContents.universe : void 0;
    } else if (!scope && !isNaN(Number(parsedContents.accountId)) && validUniverses.includes(parsedContents.universe)) {
      accountId = parsedContents.accountId;
      universe = parsedContents.universe;
    }
  } catch (e) {
  }
  return { accountId, universe };
};
export {
  parseYextrcContents
};
