import { updateEntity } from "./yext.js";
function urlWriteback(config) {
  function onUrlChange(event) {
    if (!(event.entityId && event.locale && event.url)) {
      return null;
    }
    let field = config.field;
    if (config.featureToFieldMap && config.featureToFieldMap[event.feature]) {
      field = config.featureToFieldMap[event.feature];
    }
    const update = {
      [field]: `https://${event.url}`
    };
    return updateEntity(event.entityId, event.locale, update, config.apiKey, {
      v: config.v,
      env: config.environment
    });
  }
  return onUrlChange;
}
export {
  urlWriteback
};
